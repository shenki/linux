// SPDX-License-Identifier: GPL-2.0-or-later
#include <dt-bindings/clock/aspeed,ast2700-clk.h>
#include <dt-bindings/reset/aspeed,ast2700-reset.h>
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/interrupt-controller/aspeed-scu-ic.h>

/ {
	model = "Aspeed BMC";
	compatible = "aspeed,ast2700";
	#address-cells = <2>;
	#size-cells = <2>;
	interrupt-parent = <&gic>;

	aliases {
		i2c0 = &i2c0;
		i2c1 = &i2c1;
		i2c2 = &i2c2;
		i2c3 = &i2c3;
		i2c4 = &i2c4;
		i2c5 = &i2c5;
		i2c6 = &i2c6;
		i2c7 = &i2c7;
		i2c8 = &i2c8;
		i2c9 = &i2c9;
		i2c10 = &i2c10;
		i2c11 = &i2c11;
		i2c12 = &i2c12;
		i2c13 = &i2c13;
		i2c14 = &i2c14;
		i2c15 = &i2c15;
		serial0 = &uart0;
		serial1 = &uart1;
		serial2 = &uart2;
		serial3 = &uart3;
		serial4 = &uart4;
		serial5 = &uart5;
		serial6 = &uart6;
		serial7 = &uart7;
		serial8 = &uart8;
		serial9 = &uart9;
		serial10 = &uart10;
		serial11 = &uart11;
		serial12 = &uart12;
		mdio0 = &mdio0;
		mdio1 = &mdio1;
		mdio2 = &mdio2;
		mdio3 = &mdio3;
	};

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;
		enable-method = "aspeed,ast2700-smp";

		cpu@0 {
			compatible = "arm,cortex-a35";
			device_type = "cpu";
			reg = <0>;
		};

		cpu@1 {
			compatible = "arm,cortex-a35";
			device_type = "cpu";
			reg = <1>;
		};

		cpu@2 {
			compatible = "arm,cortex-a35";
			device_type = "cpu";
			reg = <1>;
		};

		cpu@3 {
			compatible = "arm,cortex-a35";
			device_type = "cpu";
			reg = <1>;
		};
	};

	timer {
		compatible = "arm,armv8-timer";
		interrupt-parent = <&gic>;
		interrupts = <GIC_PPI 13 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_LOW)>,
				<GIC_PPI 14 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_LOW)>,
				<GIC_PPI 11 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_LOW)>,
				<GIC_PPI 10 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_LOW)>;
		arm,cpu-registers-not-fw-configured;
		always-on;
	};

	ahb {
		compatible = "simple-bus";
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		gic: interrupt-controller@12200000 {
			compatible = "arm,gic-v3";
			interrupts = <GIC_PPI 9 (GIC_CPU_MASK_SIMPLE(2) | IRQ_TYPE_LEVEL_HIGH)>;
			#interrupt-cells = <3>;
			interrupt-controller;
			interrupt-parent = <&gic>;
			#redistributor-regions = <1>;
			reg =	<0 0x12200000 0 0x10000>,		//GICD
				<0 0x12280000 0 0x80000>,		//GICR
				<0 0x40440000 0 0x1000>;		//GICC
		};

		apb {
			compatible = "simple-bus";
			#address-cells = <2>;
			#size-cells = <2>;
			ranges;

			cpu_clk: clock-controller@12c02200 {
				compatible = "aspeed,ast2700_cpu-clk";
				reg = <0 0x12c02200 0 0x400>;
				#clock-cells = <1>;
				#reset-cells = <1>;
			};

			io_clk: clock-controller@14c02200 {
				compatible = "aspeed,ast2700_io-clk";
				reg = <0 0x14c02200 0 0x400>;
				#clock-cells = <1>;
				#reset-cells = <1>;
			};

			intc: interrupt-controller@12100000 {
				compatible = "simple-mfd";
				#address-cells = <2>;
				#size-cells = <2>;
				ranges = <0x0 0x12100000 0x0 0x12100000 0x0 0x4000>;

				intc0: interrupt-controller@1000 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101000 0x0 0x10>;
					interrupts = <GIC_SPI 128 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc1: interrupt-controller@1100 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101100 0x0 0x10>;
					interrupts = <GIC_SPI 129 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc2: interrupt-controller@1200 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101200 0x0 0x10>;
					interrupts = <GIC_SPI 130 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc3: interrupt-controller@1300 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101300 0x0 0x10>;
					interrupts = <GIC_SPI 131 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc4: interrupt-controller@1400 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101400 0x0 0x10>;
					interrupts = <GIC_SPI 132 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc5: interrupt-controller@1500 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101500 0x0 0x10>;
					interrupts = <GIC_SPI 133 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc6: interrupt-controller@1600 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101600 0x0 0x10>;
					interrupts = <GIC_SPI 134 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc7: interrupt-controller@1700 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101700 0x0 0x10>;
					interrupts = <GIC_SPI 135 IRQ_TYPE_LEVEL_HIGH>;
				};

				intc8: interrupt-controller@1800 {
					#interrupt-cells = <1>;
					interrupt-controller;
					compatible = "aspeed,ast2700-intc-ic";
					reg = <0x0 0x12101800 0x0 0x10>;
					interrupts = <GIC_SPI 136 IRQ_TYPE_LEVEL_HIGH>;
				};
			};

			uart0: serial@14c33000 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33000 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 7>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart1: serial@14c33100 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33100 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 8>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart2: serial@14c33200 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33200 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 9>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart3: serial@14c33300 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33300 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 10>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart4: serial@12c1a000 {
				compatible = "ns16550a";
				reg = <0x0 0x12c1a000 0x0 0x1000>;
				reg-shift = <2>;
				clock-frequency = <1846154>;
				interrupts = <GIC_SPI 8 IRQ_TYPE_LEVEL_HIGH>;
				no-loopback-test;
				status = "disabled";
			};

			uart5: serial@14c33400 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33400 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 11>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart6: serial@14c33500 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33500 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 12>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart7: serial@14c33600 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33600 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 13>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart8: serial@14c33700 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33700 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 14>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart9: serial@14c33800 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33800 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 15>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart10: serial@14c33900 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33900 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 16>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart11: serial@14c33a00 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33a00 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 17>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "disabled";
			};

			uart12: serial@14c33b00 {
				compatible = "ns16550a";
				reg = <0x0 0x14c33b00 0x0 0x20>;
				reg-shift = <2>;
				reg-io-width = <4>;
				clock-frequency = <1846154>;
				interrupts-extended = <&intc4 18>;
				no-loopback-test;
				pinctrl-names = "default";
				status = "okay";
			};

			mdio: bus@14040000 {
				compatible = "simple-bus";
				#address-cells = <2>;
				#size-cells = <2>;
				ranges = <0 0 0 0x14040000 0 0x100>;

				mdio0: mdio@0 {
					compatible = "aspeed,ast2700-mdio";
					reg = <0 0 0 0x8>;
					resets = <&io_clk ASPEED_RESET_MII>;
					status = "disabled";
				};

				mdio1: mdio@8 {
					compatible = "aspeed,ast2700-mdio";
					reg = <0 0x8 0 0x8>;
					resets = <&io_clk ASPEED_RESET_MII>;
					status = "disabled";
				};

				mdio2: mdio@10 {
					compatible = "aspeed,ast2700-mdio";
					reg = <0 0x10 0 0x8>;
					resets = <&io_clk ASPEED_RESET_MII>;
					status = "disabled";
				};

				mdio3: mdio@18 {
					compatible = "aspeed,ast2700-mdio";
					reg = <0 0x18 0 0x8>;
					resets = <&io_clk ASPEED_RESET_MII>;
					status = "disabled";
				};
			};

			mac0: ftgmac@14050000 {
				compatible = "aspeed,ast2700-mac", "faraday,ftgmac100";
				reg = <0x0 0x14050000 0x0 0x200>;
				interrupt-parent = <&intc4>;
				interrupts-extended = <&intc4 0>;

				clocks = <&io_clk AST2700_IO_CLK_GATE_MAC0CLK>;
				resets = <&io_clk ASPEED_RESET_MAC0>;
				status = "disabled";
			};

			mac1: ftgmac@14060000 {
				compatible = "aspeed,ast2700-mac", "faraday,ftgmac100";
				reg = <0x0 0x14060000 0x0 0x200>;
				interrupt-parent = <&intc4>;
				interrupts-extended = <&intc4 1>;

				clocks = <&io_clk AST2700_IO_CLK_GATE_MAC0CLK>;
				resets = <&io_clk ASPEED_RESET_MAC0>;
				status = "disabled";
			};

			mac2: ftgmac@14070000 {
				compatible = "aspeed,ast2700-mac", "faraday,ftgmac100";
				reg = <0x0 0x14070000 0x0 0x200>;
				interrupt-parent = <&intc4>;
				interrupts-extended = <&intc4 2>;

				clocks = <&io_clk AST2700_IO_CLK_GATE_MAC0CLK>;
				resets = <&io_clk ASPEED_RESET_MAC0>;
				status = "disabled";
			};

			i2c: bus@14c0f000 {
				compatible = "simple-bus";
				#address-cells = <1>;
				#size-cells = <1>;
				ranges = <0x0 0x0 0x14c0f000 0x1100>;
			};

		};
	};
};

&i2c {
	i2c_global: i2c-global-regs@0 {
		compatible = "aspeed,i2c-global", "simple-mfd", "syscon";
		reg = <0x0 0x100>;
	};

	i2c0: i2c-bus@100 {
		#address-cells = <1>;
		#size-cells = <1>;
		#interrupt-cells = <1>;
		reg = <0x100 0x100>, <0x1a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 0>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c1: i2c-bus@200 {
		#address-cells = <1>;
		#size-cells = <1>;
		#interrupt-cells = <1>;
		reg = <0x200 0x100>, <0x2a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 1>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c2: i2c-bus@300 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x300 0x100>, <0x3a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 2>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c3: i2c-bus@400 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x400 0x100>, <0x4a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 3>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c4: i2c-bus@500 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x500 0x100>, <0x5a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		clock-frequency = <100000>;
		interrupts-extended = <&intc2 4>;
		status = "disabled";
	};

	i2c5: i2c-bus@600 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x600 0x100>, <0x6a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 5>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c6: i2c-bus@700 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x700 0x100>, <0x7a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 6>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c7: i2c-bus@800 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x800 0x100>, <0x8a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 7>;
		clock-frequency = <100000>;
		pinctrl-names = "default";
		status = "disabled";
	};

	i2c8: i2c-bus@900 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x900 0x100>, <0x9a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 8>;
		clock-frequency = <100000>;
		pinctrl-names = "default";
		status = "disabled";
	};

	i2c9: i2c-bus@a00 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0xa00 0x100>, <0xaa0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 9>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c10: i2c-bus@b00 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0xb00 0x100>, <0xba0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 10>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c11: i2c-bus@c00 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0xc00 0x100>, <0xca0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 11>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c12: i2c-bus@d00 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0xd00 0x100>, <0xda0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 12>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c13: i2c-bus@e00 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0xe00 0x100>, <0xea0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 13>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c14: i2c-bus@f00 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0xf00 0x100>, <0xfa0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts = <GIC_SPI 124 IRQ_TYPE_LEVEL_HIGH>;
		interrupts-extended = <&intc2 14>;
		clock-frequency = <100000>;
		status = "disabled";
	};

	i2c15: i2c-bus@1000 {
		#address-cells = <1>;
		#size-cells = <0>;
		#interrupt-cells = <1>;
		reg = <0x1000 0x100>, <0x10a0 0x20>;
		compatible = "aspeed,ast2600-i2cv2";
		aspeed,global-regs = <&i2c_global>;
		aspeed,enable-dma;
		clocks = <&io_clk AST2700_IO_CLK_GATE_I2CCLK>;
		resets = <&io_clk ASPEED_RESET_I2C>;
		interrupts-extended = <&intc2 15>;
		clock-frequency = <100000>;
		status = "disabled";
	};
};

